<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üß™ Teste Simples: Normaliza√ß√£o SoundyAI</title>
    <style>
        body {
            font-family: monospace;
            background: #1a1a1a;
            color: #00ff00;
            padding: 20px;
        }
        .result {
            background: #000;
            padding: 10px;
            margin: 10px 0;
            border: 1px solid #333;
        }
        .error {
            color: #ff4444;
        }
        .success {
            color: #44ff44;
        }
    </style>
</head>
<body>
    <h1>üß™ Teste Simples: Normaliza√ß√£o de M√©tricas</h1>
    
    <div id="output"></div>
    
    <script src="audio-analyzer-integration.js"></script>
    <script>
        const output = document.getElementById('output');
        
        function log(message, isError = false) {
            const div = document.createElement('div');
            div.className = `result ${isError ? 'error' : 'success'}`;
            div.textContent = message;
            output.appendChild(div);
            console.log(message);
        }
        
        // Teste b√°sico das fun√ß√µes
        try {
            log('üß™ Iniciando teste...');
            
            // Verificar se as fun√ß√µes existem
            if (typeof normalizeMetricNames === 'function') {
                log('‚úÖ normalizeMetricNames encontrada');
            } else {
                log('‚ùå normalizeMetricNames N√ÉO encontrada', true);
            }
            
            if (typeof normalizeSpectralBands === 'function') {
                log('‚úÖ normalizeSpectralBands encontrada');
            } else {
                log('‚ùå normalizeSpectralBands N√ÉO encontrada', true);
            }
            
            if (typeof normalizeBackendAnalysisData === 'function') {
                log('‚úÖ normalizeBackendAnalysisData encontrada');
            } else {
                log('‚ùå normalizeBackendAnalysisData N√ÉO encontrada', true);
            }
            
            // Teste r√°pido de normaliza√ß√£o
            const testMetrics = {
                lufs: -18.5,
                dbtp: -1.2,
                correlation: 0.85
            };
            
            const normalizedMetrics = normalizeMetricNames(testMetrics);
            log(`üîß Teste normalizeMetricNames: ${Object.keys(normalizedMetrics).length} m√©tricas processadas`);
            
            const testBands = {
                low_bass: -25.3,
                brilho: -10.1
            };
            
            const normalizedBands = normalizeSpectralBands(testBands);
            log(`üéµ Teste normalizeSpectralBands: ${normalizedBands ? Object.keys(normalizedBands).length : 0} bandas processadas`);
            
            // Teste completo
            const testData = {
                technicalData: testMetrics,
                problems: [],
                suggestions: []
            };
            
            const result = normalizeBackendAnalysisData(testData);
            log(`üìä Teste normalizeBackendAnalysisData: ${result ? 'SUCESSO' : 'FALHOU'}`);
            
            log('üéØ Teste conclu√≠do com sucesso!');
            
        } catch (error) {
            log(`‚ùå ERRO no teste: ${error.message}`, true);
            console.error('Stack trace:', error);
        }
    </script>
</body>
</html>