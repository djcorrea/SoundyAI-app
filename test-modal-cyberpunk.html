<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üé® Teste Modal Cyberpunk - IGUAL MODAL DE G√äNERO</title>
    <link rel="stylesheet" href="public/audio-analyzer.css">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #0a0a0f 0%, #1a0a2e 50%, #0a0a0f 100%);
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            color: white;
            min-height: 100vh;
        }
        .test-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }
        .test-header {
            text-align: center;
            margin-bottom: 40px;
        }
        .test-header h1 {
            font-family: 'Orbitron', sans-serif;
            background: linear-gradient(90deg, #6a9aff, #00d4ff);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-size: 3rem;
            margin: 0 0 10px 0;
            text-transform: uppercase;
            letter-spacing: 2px;
        }
        .test-buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 30px;
        }
        .test-btn {
            padding: 15px 30px;
            border: 2px solid;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        .test-btn.upload {
            background: linear-gradient(135deg, #7c4dff, #9c27b0);
            border-color: #7c4dff;
            color: white;
        }
        .test-btn.loading {
            background: linear-gradient(135deg, #00ffff, #00bcd4);
            border-color: #00ffff;
            color: #000;
        }
        .test-btn.results {
            background: linear-gradient(135deg, #4caf50, #8bc34a);
            border-color: #4caf50;
            color: white;
        }
        .test-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px currentColor;
        }
        .info-box {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(0, 255, 255, 0.2);
            border-radius: 12px;
            padding: 20px;
            margin-top: 30px;
        }
        .info-box h3 {
            color: #00ffff;
            margin-top: 0;
        }
        .feature-list {
            list-style: none;
            padding: 0;
        }
        .feature-list li {
            padding: 8px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        .feature-list li:last-child {
            border-bottom: none;
        }
        .feature-list li::before {
            content: '‚úì ';
            color: #00ffff;
            font-weight: bold;
            margin-right: 10px;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <div class="test-header">
            <h1>üé® Modal Cyberpunk</h1>
            <p style="font-size: 1.2rem; opacity: 0.8;">Teste do novo visual futurista do #audioAnalysisModal</p>
        </div>

        <div class="test-buttons">
            <button class="test-btn upload" onclick="showUploadState()">
                üì§ Testar Upload
            </button>
            <button class="test-btn loading" onclick="showLoadingState()">
                ‚è≥ Testar Loading
            </button>
            <button class="test-btn results" onclick="showResultsState()">
                üìä Testar Resultados
            </button>
        </div>

        <div class="info-box">
            <h3>üéØ Melhorias Implementadas</h3>
            <ul class="feature-list">
                <li>Visual cyberpunk futurista (roxo escuro + azul ciano + preto)</li>
                <li>Barra de rolagem lateral removida (overflow: hidden)</li>
                <li>Altura aumentada para 75-80vh</li>
                <li>Seletor de g√™nero ocultado visualmente</li>
                <li>Mesmo background no upload e loading</li>
                <li>T√≠tulo superior removido</li>
                <li>Barra de progresso funcional 0-100%</li>
                <li>Conte√∫do centralizado</li>
                <li>Efeito glassmorphism + neon glow</li>
                <li>Outros modais n√£o foram afetados</li>
            </ul>
        </div>
    </div>

    <!-- Modal de An√°lise de √Åudio -->
    <div id="audioAnalysisModal" class="audio-modal" style="display: none;">
        <div class="audio-modal-content">
            <div class="audio-modal-header">
                <h3 id="audioModalTitle">üéµ An√°lise de √Åudio</h3>
                <button class="audio-modal-close" onclick="closeAudioModal()">&times;</button>
            </div>
            
            <!-- Seletor de G√™nero (oculto) -->
            <div id="audioRefGenreContainer" style="display:flex;">
                <label>G√™nero:</label>
                <select id="audioRefGenreSelect">
                    <option value="trance">Trance</option>
                </select>
            </div>
            
            <!-- Upload Area -->
            <div class="audio-upload-area" id="audioUploadArea">
                <div class="upload-content">
                    <div class="upload-icon">üéß</div>
                    <h4>ANALISAR SEU √ÅUDIO</h4>
                    <p>Arraste ou clique para selecionar</p>
                    <p class="supported-formats">WAV, FLAC, MP3 (m√°x. 60MB)</p>
                    <label class="upload-btn">
                        Escolher Arquivo
                    </label>
                </div>
            </div>

            <!-- Loading -->
            <div id="audioAnalysisLoading" class="audio-loading" style="display:none;">
                <div class="loading-spinner"></div>
                <p id="audioProgressText">üöÄ Inicializando Sistema de An√°lise...</p>
                <div class="progress-bar">
                    <div class="progress-fill" id="audioProgressFill"></div>
                </div>
            </div>

            <!-- Results -->
            <div id="audioAnalysisResults" class="audio-results" style="display:none;">
                <div class="results-header">
                    <h4>üî¨ An√°lise Completa</h4>
                </div>
                <div class="technical-data">
                    <div class="data-row">
                        <span class="label">LUFS Integrado:</span>
                        <span class="value">-14.2 LUFS</span>
                    </div>
                    <div class="data-row">
                        <span class="label">True Peak:</span>
                        <span class="value">-1.0 dBTP</span>
                    </div>
                    <div class="data-row">
                        <span class="label">Dynamic Range:</span>
                        <span class="value">8.5 dB</span>
                    </div>
                </div>
                <button class="test-btn upload" onclick="resetModal()">Voltar ao Upload</button>
            </div>
        </div>
    </div>

    <script>
        function showUploadState() {
            const modal = document.getElementById('audioAnalysisModal');
            const uploadArea = document.getElementById('audioUploadArea');
            const loading = document.getElementById('audioAnalysisLoading');
            const results = document.getElementById('audioAnalysisResults');
            
            modal.style.display = 'flex';
            uploadArea.style.display = 'block';
            loading.style.display = 'none';
            results.style.display = 'none';
        }

        function showLoadingState() {
            const modal = document.getElementById('audioAnalysisModal');
            const uploadArea = document.getElementById('audioUploadArea');
            const loading = document.getElementById('audioAnalysisLoading');
            const results = document.getElementById('audioAnalysisResults');
            
            modal.style.display = 'flex';
            uploadArea.style.display = 'none';
            loading.style.display = 'flex';
            results.style.display = 'none';
            
            // Simular progresso
            simulateProgress();
        }

        function showResultsState() {
            const modal = document.getElementById('audioAnalysisModal');
            const uploadArea = document.getElementById('audioUploadArea');
            const loading = document.getElementById('audioAnalysisLoading');
            const results = document.getElementById('audioAnalysisResults');
            
            modal.style.display = 'flex';
            uploadArea.style.display = 'none';
            loading.style.display = 'none';
            results.style.display = 'block';
        }

        function closeAudioModal() {
            document.getElementById('audioAnalysisModal').style.display = 'none';
            resetProgress();
        }

        function resetModal() {
            showUploadState();
        }

        function simulateProgress() {
            let progress = 0;
            const bar = document.getElementById('audioProgressFill');
            const text = document.getElementById('audioProgressText');
            
            const interval = setInterval(() => {
                progress += Math.random() * 8;
                if (progress >= 100) {
                    progress = 100;
                    clearInterval(interval);
                    text.textContent = '‚úÖ An√°lise Conclu√≠da!';
                } else {
                    bar.style.width = progress + '%';
                    text.textContent = `üöÄ Analisando... ${Math.floor(progress)}%`;
                }
            }, 200);
        }

        function resetProgress() {
            const bar = document.getElementById('audioProgressFill');
            const text = document.getElementById('audioProgressText');
            bar.style.width = '0%';
            text.textContent = 'üöÄ Inicializando Sistema de An√°lise...';
        }

        // Fechar modal com ESC
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closeAudioModal();
            }
        });
    </script>
</body>
</html>
