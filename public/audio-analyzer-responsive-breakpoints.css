/* ============================================================
   üåç BREAKPOINTS RESPONSIVOS COMPLETOS - TODOS OS MODAIS
   ============================================================ */

/* üñ•Ô∏è DESKTOP GRANDE (1200px+) - J√° est√° otimizado */

/* üíª NOTEBOOK / TABLET HORIZONTAL (992px - 1199px) */
@media (max-width: 1199px) {
    #audioAnalysisModal .audio-modal-content,
    .genre-modal-container,
    .mode-selection-modal {
        max-width: min(92%, 600px) !important;
    }

    .genre-grid {
        grid-template-columns: repeat(auto-fit, minmax(clamp(140px, 22vw, 180px), 1fr)) !important;
    }
}

/* üì± TABLET HORIZONTAL (768px - 991px) */
@media (max-width: 991px) {
    #audioAnalysisModal .audio-modal-content,
    .genre-modal-container,
    .mode-selection-modal {
        max-width: 95% !important;
        min-height: min(55vh, 450px) !important;
        padding: clamp(1.25rem, 3vh, 2rem) clamp(1rem, 2.5vw, 1.5rem) !important;
    }

    #audioAnalysisModal .audio-modal-content {
        padding: 0 !important;
    }

    #audioAnalysisModal .audio-loading {
        gap: clamp(1rem, 2.5vh, 1.5rem);
    }

    .genre-modal-title,
    .analysis-modal-title {
        font-size: clamp(1.3rem, 3.5vw, 1.8rem) !important;
        margin-bottom: clamp(0.5rem, 1.5vh, 0.625rem) !important;
    }

    .genre-modal-subtitle {
        font-size: clamp(0.8rem, 1.8vw, 0.9rem) !important;
        margin-bottom: clamp(1.25rem, 3vh, 1.5rem) !important;
    }

    .genre-grid {
        grid-template-columns: repeat(auto-fit, minmax(130px, 1fr)) !important;
        gap: clamp(0.625rem, 1.5vw, 0.875rem) !important;
    }

    .genre-card {
        padding: clamp(0.875rem, 2vh, 1rem) clamp(0.75rem, 1.5vw, 1rem) !important;
        font-size: clamp(0.8rem, 1.6vw, 0.875rem) !important;
    }

    #audioAnalysisModal .loading-spinner {
        width: clamp(2.5rem, 7vw, 3.25rem) !important;
        height: clamp(2.5rem, 7vw, 3.25rem) !important;
    }

    #audioAnalysisModal .progress-bar {
        max-width: 92% !important;
        height: clamp(0.625rem, 1.2vw, 0.75rem) !important;
    }
}

/* üì± TABLET VERTICAL (481px - 767px) */
@media (max-width: 767px) {
    #audioAnalysisModal,
    .genre-modal {
        padding: min(3vh, 1.5rem) 1rem !important;
    }

    #audioAnalysisModal .audio-modal-content,
    .genre-modal-container,
    .mode-selection-modal {
        max-width: 98% !important;
        min-height: auto !important;
        max-height: 95vh !important;
        padding: clamp(1rem, 2.5vh, 1.5rem) clamp(0.875rem, 2vw, 1.25rem) !important;
        border-radius: clamp(0.75rem, 1.5vw, 1rem) !important;
    }

    #audioAnalysisModal .audio-modal-content {
        padding: 0 !important;
    }

    #audioAnalysisModal .audio-loading {
        gap: clamp(0.875rem, 2vh, 1.25rem);
        padding: 1rem 0.5rem;
    }

    .genre-modal-title,
    .analysis-modal-title {
        font-size: clamp(1.25rem, 4.5vw, 1.5rem) !important;
        letter-spacing: 1px !important;
        margin-bottom: clamp(0.375rem, 1vh, 0.5rem) !important;
    }

    .genre-modal-subtitle {
        font-size: clamp(0.75rem, 2vw, 0.875rem) !important;
        margin-bottom: clamp(1rem, 2.5vh, 1.25rem) !important;
        padding: 0 0.5rem !important;
    }

    .genre-grid {
        grid-template-columns: repeat(auto-fit, minmax(110px, 1fr)) !important;
        gap: clamp(0.5rem, 1.2vw, 0.75rem) !important;
        padding: 0 !important;
    }

    .genre-card {
        padding: clamp(0.75rem, 1.5vh, 0.875rem) clamp(0.625rem, 1.2vw, 0.75rem) !important;
        font-size: clamp(0.75rem, 1.8vw, 0.8rem) !important;
        gap: clamp(0.5rem, 1vh, 0.625rem) !important;
    }

    .genre-card .icon {
        font-size: clamp(1.5rem, 5vw, 2rem) !important;
    }

    #audioAnalysisModal .loading-spinner {
        width: clamp(2.25rem, 9vw, 3rem) !important;
        height: clamp(2.25rem, 9vw, 3rem) !important;
        margin-bottom: clamp(0.75rem, 1.5vh, 1rem) !important;
    }

    #audioAnalysisModal #audioProgressText {
        font-size: clamp(0.75rem, 2.5vw, 0.875rem) !important;
        margin-bottom: clamp(0.625rem, 1.5vh, 0.875rem) !important;
        padding: 0 0.75rem !important;
    }

    #audioAnalysisModal .progress-bar {
        max-width: 95% !important;
        height: clamp(0.5rem, 1vw, 0.625rem) !important;
        margin-bottom: clamp(0.875rem, 1.5vh, 1rem) !important;
    }

    #audioAnalysisModal .audio-close-bottom {
        padding: clamp(0.5rem, 1.2vh, 0.625rem) clamp(1rem, 2.5vw, 1.25rem) !important;
        font-size: clamp(0.75rem, 2vw, 0.85rem) !important;
        margin-top: clamp(1rem, 2vh, 1.25rem) !important;
        max-width: clamp(8rem, 25vw, 10rem) !important;
    }

    .mode-selection-options {
        gap: clamp(0.75rem, 1.5vw, 1rem) !important;
    }

    .mode-option-card {
        padding: clamp(1rem, 2vh, 1.25rem) !important;
        font-size: clamp(0.8rem, 2vw, 0.9rem) !important;
    }
}

/* üì± MOBILE PEQUENO (320px - 480px) */
@media (max-width: 480px) {
    #audioAnalysisModal,
    .genre-modal {
        padding: 1rem 0.75rem !important;
    }

    #audioAnalysisModal .audio-modal-content,
    .genre-modal-container,
    .mode-selection-modal {
        max-width: 100% !important;
        max-height: 98vh !important;
        padding: clamp(0.875rem, 2vh, 1.25rem) clamp(0.75rem, 1.5vw, 1rem) !important;
        border-radius: 0.75rem !important;
    }

    #audioAnalysisModal .audio-modal-content {
        padding: 0 !important;
    }

    #audioAnalysisModal .audio-loading {
        gap: 0.75rem;
        padding: 0.75rem 0.25rem;
    }

    .genre-modal-title,
    .analysis-modal-title {
        font-size: clamp(1.1rem, 5vw, 1.35rem) !important;
        letter-spacing: 0.5px !important;
        margin-bottom: 0.375rem !important;
        line-height: 1.2 !important;
    }

    .genre-modal-subtitle {
        font-size: clamp(0.7rem, 2.2vw, 0.8rem) !important;
        margin-bottom: 1rem !important;
        padding: 0 0.25rem !important;
        line-height: 1.3 !important;
    }

    .genre-grid {
        grid-template-columns: repeat(2, 1fr) !important;
        gap: 0.5rem !important;
    }

    .genre-card {
        padding: 0.625rem 0.5rem !important;
        font-size: 0.7rem !important;
        gap: 0.375rem !important;
        min-height: 70px !important;
    }

    .genre-card .icon {
        font-size: 1.5rem !important;
    }

    #audioAnalysisModal .loading-spinner {
        width: 2.5rem !important;
        height: 2.5rem !important;
        border-width: 2px !important;
        margin-bottom: 0.75rem !important;
    }

    #audioAnalysisModal .loading-spinner::before {
        border-width: 1.5px !important;
    }

    #audioAnalysisModal #audioProgressText {
        font-size: 0.7rem !important;
        margin-bottom: 0.625rem !important;
        padding: 0 0.5rem !important;
        letter-spacing: 0 !important;
        line-height: 1.3 !important;
    }

    #audioAnalysisModal .progress-bar {
        max-width: 98% !important;
        height: 0.5rem !important;
        margin-bottom: 0.75rem !important;
        border-width: 1px !important;
    }

    #audioAnalysisModal .audio-close-bottom {
        padding: 0.5rem 1rem !important;
        font-size: 0.7rem !important;
        margin-top: 0.875rem !important;
        max-width: 8rem !important;
        border-radius: 0.5rem !important;
    }

    .mode-selection-options {
        gap: 0.625rem !important;
        flex-direction: column !important;
    }

    .mode-option-card {
        padding: 0.875rem !important;
        font-size: 0.75rem !important;
        width: 100% !important;
    }

    .mode-option-card .icon {
        font-size: 2rem !important;
    }

    /* Linhas neurais mais sutis em mobile */
    #audioAnalysisModal .audio-modal-content::before,
    .genre-modal-container::before,
    .mode-selection-modal::before {
        opacity: 0.3 !important;
    }
}

/* üîß AJUSTES GERAIS PARA TODOS OS BREAKPOINTS */
@media (max-width: 991px) {
    /* Anima√ß√µes mais leves em tablets */
    .genre-card,
    #audioAnalysisModal .upload-content {
        transition-duration: 0.2s !important;
    }
}

@media (max-width: 767px) {
    /* Anima√ß√µes mais lentas em mobile para performance */
    #audioAnalysisModal .audio-modal-content::before,
    .genre-modal-container::before,
    .mode-selection-modal::before {
        animation-duration: 20s !important;
    }

    #audioAnalysisModal .audio-modal-content::after,
    .genre-modal-container::after,
    .mode-selection-modal::after {
        animation-duration: 30s !important;
    }
}

@media (max-width: 480px) {
    /* Simplifica ainda mais em telas muito pequenas */
    #audioAnalysisModal .audio-modal-content::after,
    .genre-modal-container::after,
    .mode-selection-modal::after {
        display: none !important;
    }
}

/* üéØ LANDSCAPE MODE (altura menor que largura) */
@media (orientation: landscape) and (max-height: 600px) {
    #audioAnalysisModal .audio-modal-content,
    .genre-modal-container,
    .mode-selection-modal {
        max-height: 95vh !important;
        min-height: auto !important;
        padding: 1rem !important;
    }

    #audioAnalysisModal .audio-loading {
        gap: 0.75rem !important;
    }

    .genre-modal-title,
    .analysis-modal-title {
        font-size: 1.25rem !important;
        margin-bottom: 0.5rem !important;
    }

    .genre-grid {
        gap: 0.5rem !important;
    }

    #audioAnalysisModal .loading-spinner {
        width: 2.5rem !important;
        height: 2.5rem !important;
    }
}
