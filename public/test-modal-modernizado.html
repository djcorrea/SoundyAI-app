<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste Modal Modernizado - Sele√ß√£o de Modo</title>
    <link rel="stylesheet" href="audio-analyzer.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #0c111b 0%, #1a1f2e 100%);
            color: white;
            margin: 0;
            padding: 20px;
            min-height: 100vh;
        }
        
        .test-container {
            max-width: 800px;
            margin: 0 auto;
            text-align: center;
            padding: 40px 20px;
        }
        
        .test-btn {
            background: linear-gradient(135deg, #249dff, #1976d2);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 12px;
            font-size: 18px;
            cursor: pointer;
            margin: 10px;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        
        .test-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(36, 157, 255, 0.3);
        }
        
        .test-section {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .status {
            display: inline-block;
            padding: 8px 16px;
            border-radius: 8px;
            margin: 5px;
            font-weight: bold;
        }
        
        .status.success { background: rgba(0, 255, 0, 0.2); color: #00ff00; }
        .status.error { background: rgba(255, 0, 0, 0.2); color: #ff6b6b; }
        .status.info { background: rgba(0, 150, 255, 0.2); color: #4fc3f7; }
    </style>
    <!-- Sistema Centralizado de Logs -->
    <script src="logger.js"></script>
    <script>
        // Importar fun√ß√µes do logger para escopo global
        const { log, warn, error, info, debug } = window.logger;
    </script>
</head>
<body>
    <div class="test-container">
        <h1>üé® Teste do Modal Modernizado</h1>
        <p>Esta p√°gina testa o modal de sele√ß√£o de modo com o novo visual futurista.</p>
        
        <div class="test-section">
            <h2>üß™ Teste Visual</h2>
            
            <button class="test-btn" onclick="openTestModal()">
                üöÄ Abrir Modal Modernizado
            </button>
            
            <button class="test-btn" onclick="toggleReferenceMode()">
                üîÑ Mostrar/Ocultar Modo Refer√™ncia
            </button>
        </div>
        
        <div class="test-section">
            <h2>‚úÖ Checklist Visual</h2>
            <ul style="text-align: left;">
                <li><strong>Fundo Futurista:</strong> Gradiente radial roxo ‚Üí preto ‚Üí azul</li>
                <li><strong>T√≠tulo:</strong> Fonte Orbitron, glow sutil, centralizado</li>
                <li><strong>Bot√µes:</strong> Cards transl√∫cidos com hover azul el√©trico</li>
                <li><strong>Anima√ß√µes:</strong> Scale + translateY no hover</li>
                <li><strong>Responsividade:</strong> Funciona em mobile e desktop</li>
                <li><strong>Acessibilidade:</strong> Foco com teclado, ESC para fechar</li>
                <li><strong>Funcionalidade:</strong> Todos os handlers mantidos</li>
            </ul>
        </div>
        
        <div class="test-section">
            <h2>üéØ Compara√ß√£o Visual</h2>
            <p><strong>ANTES:</strong> Visual tradicional com gradiente linear simples</p>
            <p><strong>DEPOIS:</strong> Visual futurista com gradiente radial, glassmorphism e efeitos modernos</p>
            <p><strong>PALETA:</strong> Mesma identidade visual do modal de g√™nero</p>
        </div>
    </div>

    <!-- Modal de teste -->
    <div id="analysisModeModal" class="audio-modal" style="display: none;">
        <div class="audio-modal-content mode-selection-modal">
            <div class="audio-modal-header">
                <h3 data-text="Como deseja analisar sua m√∫sica?">üéµ Como deseja analisar sua m√∫sica?</h3>
                <button class="audio-modal-close" onclick="closeTestModal()">&times;</button>
            </div>
            
            <div class="mode-selection-container">
                <div class="mode-selection-description">
                    <p>Escolha o tipo de an√°lise que melhor se adequa √†s suas necessidades:</p>
                </div>
                
                <div class="mode-selection-options">
                    <!-- Op√ß√£o: An√°lise por G√™nero (atual) -->
                    <button class="mode-option-btn" id="genreModeBtn" onclick="testGenreMode()">
                        <div class="mode-option-left">
                            <div class="mode-option-icon">üéß</div>
                            <div class="mode-option-content">
                                <h4>Por G√™nero Musical</h4>
                                <p>Compare sua m√∫sica com padr√µes profissionais do g√™nero selecionado</p>
                                <span class="mode-option-badge">Recomendado</span>
                            </div>
                        </div>
                        <div class="mode-option-right">‚Üí</div>
                    </button>
                    
                    <!-- Op√ß√£o: An√°lise por Refer√™ncia (novo) -->
                    <button class="mode-option-btn" id="referenceModeBtn" onclick="testReferenceMode()" 
                            style="display: none;">
                        <div class="mode-option-left">
                            <div class="mode-option-icon">üéØ</div>
                            <div class="mode-option-content">
                                <h4>Por M√∫sica de Refer√™ncia</h4>
                                <p>Compare sua m√∫sica diretamente com uma faixa de refer√™ncia espec√≠fica</p>
                                <span class="mode-option-badge new">Novo</span>
                            </div>
                        </div>
                        <div class="mode-option-right">‚Üí</div>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        function openTestModal() {
            const modal = document.getElementById('analysisModeModal');
            modal.style.display = 'flex';
            log('‚úÖ Modal aberto para teste visual');
        }

        function closeTestModal() {
            const modal = document.getElementById('analysisModeModal');
            modal.style.display = 'none';
            log('‚ùå Modal fechado');
        }

        function toggleReferenceMode() {
            const referenceBtn = document.getElementById('referenceModeBtn');
            if (referenceBtn.style.display === 'none') {
                referenceBtn.style.display = 'block';
                log('üëÅÔ∏è Modo Refer√™ncia vis√≠vel');
            } else {
                referenceBtn.style.display = 'none';
                log('üôà Modo Refer√™ncia oculto');
            }
        }

        function testGenreMode() {
            alert('üéß Modo G√™nero Musical selecionado!\n\nEste bot√£o funcionaria normalmente no sistema real.');
            closeTestModal();
        }

        function testReferenceMode() {
            alert('üéØ Modo Refer√™ncia selecionado!\n\nEste bot√£o funcionaria normalmente no sistema real.');
            closeTestModal();
        }

        // Fechar modal com ESC
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeTestModal();
            }
        });

        // Fechar modal clicando fora
        document.getElementById('analysisModeModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeTestModal();
            }
        });

        log('üß™ P√°gina de teste carregada. Pronta para verificar o modal modernizado!');
    </script>
</body>
</html>