<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéì Sistema de Sugest√µes Ultra-Avan√ßado - SoundyAI</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            min-height: 100vh;
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto;
        }

        .demo-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }

        .demo-panel {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 25px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .panel-title {
            font-size: 1.5em;
            margin-bottom: 20px;
            color: #FFD700;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .btn {
            background: linear-gradient(45deg, #00D4AA, #00A8E8);
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            color: white;
            font-weight: bold;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
            box-shadow: 0 4px 15px rgba(0, 212, 170, 0.3);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 212, 170, 0.4);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn.secondary {
            background: linear-gradient(45deg, #FF6B6B, #FF8E53);
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.3);
        }

        .btn.secondary:hover {
            box-shadow: 0 6px 20px rgba(255, 107, 107, 0.4);
        }

        .mock-data {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }

        .results-container {
            display: none;
            margin-top: 40px;
        }

        .suggestion-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            border-left: 5px solid #00D4AA;
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }

        .suggestion-card:hover {
            transform: translateY(-2px);
            border-left-color: #FFD700;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
        }

        .suggestion-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 20px;
        }

        .suggestion-title {
            font-size: 1.4em;
            font-weight: bold;
            color: #FFD700;
            margin-bottom: 5px;
        }

        .suggestion-priority {
            background: linear-gradient(45deg, #FF6B6B, #FF8E53);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: bold;
        }

        .problem-section {
            background: rgba(255, 107, 107, 0.1);
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
            border: 1px solid rgba(255, 107, 107, 0.3);
        }

        .education-section {
            background: rgba(255, 215, 0, 0.1);
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
            border: 1px solid rgba(255, 215, 0, 0.3);
        }

        .solution-section {
            background: rgba(0, 212, 170, 0.1);
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
            border: 1px solid rgba(0, 212, 170, 0.3);
        }

        .section-title {
            font-weight: bold;
            font-size: 1.1em;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .steps-list {
            list-style: none;
            margin: 15px 0;
        }

        .steps-list li {
            margin: 8px 0;
            padding: 8px 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            border-left: 3px solid #00D4AA;
        }

        .visual-indicator {
            display: flex;
            align-items: center;
            gap: 15px;
            margin: 15px 0;
            padding: 15px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
        }

        .meter {
            width: 200px;
            height: 10px;
            background: #333;
            border-radius: 5px;
            position: relative;
            overflow: hidden;
        }

        .meter-fill {
            height: 100%;
            background: linear-gradient(90deg, #00D4AA, #FFD700, #FF6B6B);
            border-radius: 5px;
            transition: width 0.3s ease;
        }

        .metadata-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .metadata-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }

        .metadata-label {
            font-size: 0.9em;
            opacity: 0.8;
            margin-bottom: 5px;
        }

        .metadata-value {
            font-weight: bold;
            font-size: 1.1em;
            color: #00D4AA;
        }

        .troubleshooting {
            background: rgba(255, 165, 0, 0.1);
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            border: 1px solid rgba(255, 165, 0, 0.3);
        }

        .expandable {
            cursor: pointer;
            user-select: none;
        }

        .expandable:hover {
            opacity: 0.8;
        }

        .collapsible-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .collapsible-content.expanded {
            max-height: 1000px;
        }

        .summary-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .summary-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            backdrop-filter: blur(10px);
        }

        .summary-number {
            font-size: 2.5em;
            font-weight: bold;
            color: #00D4AA;
            margin-bottom: 10px;
        }

        .summary-label {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .loading {
            text-align: center;
            padding: 40px;
        }

        .spinner {
            width: 50px;
            height: 50px;
            border: 4px solid rgba(255, 255, 255, 0.2);
            border-top: 4px solid #00D4AA;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .error-message {
            background: rgba(255, 0, 0, 0.1);
            border: 1px solid rgba(255, 0, 0, 0.3);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }

        .tabs {
            display: flex;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 5px;
            margin-bottom: 20px;
        }

        .tab {
            flex: 1;
            padding: 10px 20px;
            border: none;
            background: transparent;
            color: white;
            cursor: pointer;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .tab.active {
            background: #00D4AA;
            color: black;
            font-weight: bold;
        }

        .daw-specific {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 15px 0;
        }

        .daw-card {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 8px;
            border-left: 3px solid #FFD700;
        }

        .daw-name {
            font-weight: bold;
            color: #FFD700;
            margin-bottom: 8px;
        }

        @media (max-width: 768px) {
            .demo-section {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 1.8em;
            }
            
            .suggestion-header {
                flex-direction: column;
                gap: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéì Sistema de Sugest√µes Ultra-Avan√ßado</h1>
            <p>O melhor sistema de sugest√µes educativas do planeta para produ√ß√£o musical. Contexto inteligente, explica√ß√µes detalhadas e solu√ß√µes pr√°ticas.</p>
        </div>

        <div class="demo-section">
            <div class="demo-panel">
                <div class="panel-title">
                    üéµ Simula√ß√£o de An√°lise Real
                </div>
                <p>Teste o sistema com dados simulados de diferentes g√™neros e cen√°rios musicais.</p>
                
                <div class="mock-data">
                    <strong>Dados Simulados:</strong><br>
                    ‚Ä¢ LUFS: -16.5 (abaixo do ideal)<br>
                    ‚Ä¢ True Peak: -0.3 dBTP (muito alto)<br>
                    ‚Ä¢ LRA: 3.2 LU (over-compressed)<br>
                    ‚Ä¢ Presen√ßa: -8.5 dB (excessiva)<br>
                    ‚Ä¢ G√™nero: Electronic Pop
                </div>
                
                <button class="btn" onclick="testarSistemaCompleto()">
                    üöÄ Testar Sistema Completo
                </button>
            </div>

            <div class="demo-panel">
                <div class="panel-title">
                    üéØ Compara√ß√£o Sistemas
                </div>
                <p>Compare o sistema antigo (repetitivo e superficial) com o novo sistema ultra-avan√ßado.</p>
                
                <div style="margin: 20px 0;">
                    <button class="btn secondary" onclick="compararSistemas()">
                        üìä Comparar Antigo vs Novo
                    </button>
                </div>
                
                <div style="font-size: 0.9em; opacity: 0.8;">
                    <strong>Melhorias:</strong><br>
                    ‚úÖ Contexto educativo detalhado<br>
                    ‚úÖ Solu√ß√µes passo-a-passo<br>
                    ‚úÖ Explica√ß√µes por g√™nero<br>
                    ‚úÖ Prioriza√ß√£o inteligente<br>
                    ‚úÖ Exemplos de DAW espec√≠ficos
                </div>
            </div>
        </div>

        <div id="results" class="results-container">
            <!-- Resultados ser√£o inseridos aqui -->
        </div>
    </div>

    <!-- Carregar depend√™ncias -->
    <script src="advanced-educational-suggestion-system.js"></script>

    <script>
        // Estado global
        let currentResults = null;
        let isProcessing = false;

        /**
         * Testar sistema completo com dados simulados
         */
        async function testarSistemaCompleto() {
            if (isProcessing) return;
            
            console.log('üéì [DEMO] Iniciando teste do sistema ultra-avan√ßado...');
            isProcessing = true;
            
            try {
                // Mostrar loading
                mostrarLoading("Analisando dados com sistema ultra-avan√ßado...");
                
                // Dados simulados de an√°lise de √°udio
                const mockAnalysis = {
                    technicalData: {
                        lufs: -16.5,
                        truePeak: -0.3,
                        lra: 3.2,
                        dynamicRange: 5.8,
                        stereoCorrelation: 0.85,
                        spectral_balance: {
                            sub: -22.1,
                            bass: -15.3,
                            lowMid: -12.8,
                            mid: -10.5,
                            highMid: -8.9,
                            presenca: -8.5,  // Problem√°tica
                            brilho: -14.2
                        },
                        bandEnergies: {
                            sub: { rms_db: -22.1 },
                            bass: { rms_db: -15.3 },
                            lowMid: { rms_db: -12.8 },
                            mid: { rms_db: -10.5 },
                            highMid: { rms_db: -8.9 },
                            presenca: { rms_db: -8.5 },
                            brilho: { rms_db: -14.2 }
                        }
                    }
                };

                // Dados de refer√™ncia simulados
                const mockReference = {
                    lufs_target: -8.0,
                    true_peak_target: -1.0,
                    lra_target: 6.0,
                    genre: "electronic"
                };

                // Definir g√™nero global para contexto
                window.PROD_AI_REF_GENRE = "electronic";

                // Aguardar processamento
                await new Promise(resolve => setTimeout(resolve, 2000));

                // Processar com sistema avan√ßado
                const result = window.advancedSuggestionSystem.generateAdvancedSuggestions(
                    mockAnalysis, 
                    mockReference, 
                    { experienceLevel: 'intermediate' }
                );

                console.log('üéì [DEMO] Resultado do sistema:', result);

                // Mostrar resultados
                mostrarResultadosAvancados(result);
                currentResults = result;

            } catch (error) {
                console.error('üö® [DEMO] Erro no teste:', error);
                mostrarErro(`Erro no sistema: ${error.message}`);
            } finally {
                isProcessing = false;
            }
        }

        /**
         * Comparar sistemas antigo vs novo
         */
        async function compararSistemas() {
            if (isProcessing) return;
            
            console.log('üìä [DEMO] Iniciando compara√ß√£o de sistemas...');
            isProcessing = true;
            
            try {
                mostrarLoading("Comparando sistema antigo vs ultra-avan√ßado...");
                
                await new Promise(resolve => setTimeout(resolve, 1500));
                
                // Simula√ß√£o de sugest√µes do sistema antigo (problem√°ticas)
                const oldSystemSuggestions = [
                    {
                        message: "Ajustar LUFS",
                        action: "Aumentar volume",
                        why: "LUFS baixo",
                        priority: 0.5,
                        source: "sistema_antigo"
                    },
                    {
                        message: "Corrigir True Peak",
                        action: "Usar limiter",
                        why: "True Peak alto",
                        priority: 0.7,
                        source: "sistema_antigo"
                    },
                    {
                        message: "Ajustar presen√ßa",
                        action: "Reduzir 6-9 kHz",
                        why: "Banda presen√ßa alta",
                        priority: 0.3,
                        source: "sistema_antigo"
                    }
                ];

                // Resultado do sistema novo
                const mockAnalysis = {
                    technicalData: {
                        lufs: -16.5,
                        truePeak: -0.3,
                        lra: 3.2,
                        spectral_balance: {
                            presenca: -8.5
                        }
                    }
                };

                const newSystemResult = window.advancedSuggestionSystem.generateAdvancedSuggestions(
                    mockAnalysis, 
                    { lufs_target: -8.0, true_peak_target: -1.0 }, 
                    {}
                );

                mostrarComparacao(oldSystemSuggestions, newSystemResult.suggestions);

            } catch (error) {
                console.error('üö® [DEMO] Erro na compara√ß√£o:', error);
                mostrarErro(`Erro na compara√ß√£o: ${error.message}`);
            } finally {
                isProcessing = false;
            }
        }

        /**
         * Mostrar loading
         */
        function mostrarLoading(message) {
            const resultsDiv = document.getElementById('results');
            resultsDiv.style.display = 'block';
            resultsDiv.innerHTML = `
                <div class="loading">
                    <div class="spinner"></div>
                    <div>${message}</div>
                </div>
            `;
        }

        /**
         * Mostrar resultados avan√ßados
         */
        function mostrarResultadosAvancados(result) {
            const resultsDiv = document.getElementById('results');
            
            let html = `
                <div class="panel-title">üéì Resultados do Sistema Ultra-Avan√ßado</div>
                
                <!-- Resumo -->
                <div class="summary-cards">
                    <div class="summary-card">
                        <div class="summary-number">${result.suggestions?.length || 0}</div>
                        <div class="summary-label">Sugest√µes Geradas</div>
                    </div>
                    <div class="summary-card">
                        <div class="summary-number">${result.context?.genre?.toUpperCase() || 'AUTO'}</div>
                        <div class="summary-label">G√™nero Detectado</div>
                    </div>
                    <div class="summary-card">
                        <div class="summary-number">${result.metadata?.processingTime || 0}ms</div>
                        <div class="summary-label">Tempo de An√°lise</div>
                    </div>
                    <div class="summary-card">
                        <div class="summary-number">${result.summary?.difficulty || 'N/A'}</div>
                        <div class="summary-label">Dificuldade M√©dia</div>
                    </div>
                </div>

                <!-- Resumo Executivo -->
                ${result.summary ? `
                <div class="education-section">
                    <div class="section-title">üìã Resumo Executivo</div>
                    <p><strong>Vis√£o Geral:</strong> ${result.summary.overview}</p>
                    <p><strong>Prioridade M√°xima:</strong> ${result.summary.topPriority}</p>
                    <p><strong>Tempo Estimado:</strong> ${result.summary.estimatedTime}</p>
                </div>
                ` : ''}
            `;

            // Adicionar sugest√µes detalhadas
            if (result.suggestions && result.suggestions.length > 0) {
                html += '<div style="margin-top: 30px;">';
                
                result.suggestions.forEach((suggestion, index) => {
                    html += criarCardSugestaoAvancada(suggestion, index);
                });
                
                html += '</div>';
            } else {
                html += `
                    <div class="education-section">
                        <div class="section-title">‚úÖ Excelente!</div>
                        <p>Sua m√∫sica est√° tecnicamente perfeita! Nenhuma sugest√£o cr√≠tica identificada.</p>
                    </div>
                `;
            }

            resultsDiv.innerHTML = html;
        }

        /**
         * Criar card de sugest√£o avan√ßada
         */
        function criarCardSugestaoAvancada(suggestion, index) {
            return `
                <div class="suggestion-card">
                    <div class="suggestion-header">
                        <div>
                            <div class="suggestion-title">${suggestion.title}</div>
                            <div style="opacity: 0.8; font-size: 0.9em;">Categoria: ${suggestion.category}</div>
                        </div>
                        <div class="suggestion-priority">
                            Prioridade: ${(suggestion.priority * 100).toFixed(0)}%
                        </div>
                    </div>

                    <!-- Problema -->
                    ${suggestion.problem ? `
                    <div class="problem-section">
                        <div class="section-title">üîç Problema Identificado</div>
                        <p><strong>Descri√ß√£o:</strong> ${suggestion.problem.description}</p>
                        <p><strong>Impacto:</strong> ${suggestion.problem.impact}</p>
                        
                        ${suggestion.problem.visual ? `
                        <div class="visual-indicator">
                            <div>
                                <strong>Atual:</strong> ${suggestion.problem.visual.current}<br>
                                <strong>Alvo:</strong> ${suggestion.problem.visual.target}
                            </div>
                            <div class="meter">
                                <div class="meter-fill" style="width: ${Math.min(100, Math.abs(parseFloat(suggestion.problem.visual.percentageOff)))}%"></div>
                            </div>
                            <div style="color: ${suggestion.problem.visual.severity === 'high' ? '#FF6B6B' : suggestion.problem.visual.severity === 'medium' ? '#FFD700' : '#00D4AA'}">
                                ${suggestion.problem.visual.percentageOff}% ${suggestion.problem.visual.direction === 'above' ? 'acima' : 'abaixo'}
                            </div>
                        </div>
                        ` : ''}
                    </div>
                    ` : ''}

                    <!-- Educa√ß√£o -->
                    ${suggestion.education ? `
                    <div class="education-section">
                        <div class="section-title">üéì Contexto Educativo</div>
                        <p><strong>Conceito:</strong> ${suggestion.education.concept}</p>
                        <p><strong>Explica√ß√£o:</strong> ${suggestion.education.explanation}</p>
                        <p><strong>Import√¢ncia:</strong> ${suggestion.education.importance}</p>
                        ${suggestion.education.genreContext ? `<p><strong>Contexto do G√™nero:</strong> ${suggestion.education.genreContext}</p>` : ''}
                    </div>
                    ` : ''}

                    <!-- Solu√ß√£o -->
                    ${suggestion.solution ? `
                    <div class="solution-section">
                        <div class="section-title">üí° Solu√ß√£o Pr√°tica</div>
                        <p><strong>Estrat√©gia:</strong> ${suggestion.solution.strategy}</p>
                        
                        ${suggestion.solution.steps ? `
                        <div style="margin: 15px 0;">
                            <strong>Passos:</strong>
                            <ul class="steps-list">
                                ${suggestion.solution.steps.map(step => `<li>${step}</li>`).join('')}
                            </ul>
                        </div>
                        ` : ''}

                        ${suggestion.solution.tools ? `
                        <div style="margin: 15px 0;">
                            <strong>Ferramentas Recomendadas:</strong>
                            <div class="daw-specific">
                                ${Object.entries(suggestion.solution.tools).map(([daw, tool]) => `
                                    <div class="daw-card">
                                        <div class="daw-name">${daw.toUpperCase()}</div>
                                        <div>${tool}</div>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                        ` : ''}

                        ${suggestion.solution.expectedResult ? `
                        <p><strong>Resultado Esperado:</strong> ${suggestion.solution.expectedResult}</p>
                        ` : ''}

                        ${suggestion.solution.warnings && suggestion.solution.warnings.length > 0 ? `
                        <div class="troubleshooting">
                            <strong>‚ö†Ô∏è Cuidados Importantes:</strong>
                            <ul style="margin: 10px 0; padding-left: 20px;">
                                ${suggestion.solution.warnings.map(warning => `<li>${warning}</li>`).join('')}
                            </ul>
                        </div>
                        ` : ''}
                    </div>
                    ` : ''}

                    <!-- Valida√ß√£o -->
                    ${suggestion.validation ? `
                    <div class="expandable" onclick="toggleCollapsible(this)">
                        <div class="section-title">‚úÖ Valida√ß√£o e Verifica√ß√£o ‚ñº</div>
                        <div class="collapsible-content">
                            ${suggestion.validation.checkPoints ? `
                            <ul class="steps-list">
                                ${suggestion.validation.checkPoints.map(point => `<li>${point}</li>`).join('')}
                            </ul>
                            ` : ''}
                            ${suggestion.validation.tools ? `
                            <p><strong>Ferramentas de Verifica√ß√£o:</strong> ${suggestion.validation.tools.join(', ')}</p>
                            ` : ''}
                        </div>
                    </div>
                    ` : ''}

                    <!-- Analogias -->
                    ${suggestion.analogies && suggestion.analogies.length > 0 ? `
                    <div class="expandable" onclick="toggleCollapsible(this)">
                        <div class="section-title">üé® Analogias Educativas ‚ñº</div>
                        <div class="collapsible-content">
                            ${suggestion.analogies.map(analogy => `<p style="margin: 8px 0; font-style: italic;">${analogy}</p>`).join('')}
                        </div>
                    </div>
                    ` : ''}

                    <!-- Troubleshooting -->
                    ${suggestion.troubleshooting && suggestion.troubleshooting.length > 0 ? `
                    <div class="expandable" onclick="toggleCollapsible(this)">
                        <div class="section-title">üõ†Ô∏è Troubleshooting ‚ñº</div>
                        <div class="collapsible-content">
                            ${suggestion.troubleshooting.map(item => `<p style="margin: 8px 0;">${item}</p>`).join('')}
                        </div>
                    </div>
                    ` : ''}

                    <!-- Metadata -->
                    ${suggestion.metadata ? `
                    <div class="metadata-grid">
                        <div class="metadata-item">
                            <div class="metadata-label">Dificuldade</div>
                            <div class="metadata-value">${suggestion.metadata.difficulty || 'N/A'}</div>
                        </div>
                        <div class="metadata-item">
                            <div class="metadata-label">Tempo Estimado</div>
                            <div class="metadata-value">${suggestion.metadata.timeEstimate || 'N/A'}</div>
                        </div>
                        <div class="metadata-item">
                            <div class="metadata-label">Impacto</div>
                            <div class="metadata-value">${suggestion.metadata.impact || 'N/A'}</div>
                        </div>
                        ${suggestion.metadata.tags ? `
                        <div class="metadata-item">
                            <div class="metadata-label">Tags</div>
                            <div class="metadata-value">${suggestion.metadata.tags.join(', ')}</div>
                        </div>
                        ` : ''}
                    </div>
                    ` : ''}
                </div>
            `;
        }

        /**
         * Mostrar compara√ß√£o entre sistemas
         */
        function mostrarComparacao(oldSuggestions, newSuggestions) {
            const resultsDiv = document.getElementById('results');
            
            let html = `
                <div class="panel-title">üìä Compara√ß√£o: Sistema Antigo vs Ultra-Avan√ßado</div>
                
                <div class="tabs">
                    <button class="tab active" onclick="switchTab(this, 'old')">‚ùå Sistema Antigo</button>
                    <button class="tab" onclick="switchTab(this, 'new')">‚úÖ Sistema Ultra-Avan√ßado</button>
                    <button class="tab" onclick="switchTab(this, 'comparison')">üìä An√°lise Comparativa</button>
                </div>

                <div id="old-system" class="tab-content">
                    <div class="problem-section">
                        <div class="section-title">‚ùå Problemas do Sistema Antigo</div>
                        <p><strong>Caracter√≠sticas:</strong></p>
                        <ul>
                            <li>Sugest√µes gen√©ricas e repetitivas</li>
                            <li>Sem contexto educativo</li>
                            <li>N√£o considera g√™nero musical</li>
                            <li>Solu√ß√µes superficiais</li>
                            <li>Sem exemplos pr√°ticos de DAW</li>
                        </ul>
                    </div>

                    ${oldSuggestions.map(suggestion => `
                        <div class="suggestion-card" style="border-left-color: #FF6B6B; opacity: 0.7;">
                            <div class="suggestion-title" style="color: #FF6B6B;">${suggestion.message}</div>
                            <p><strong>A√ß√£o:</strong> ${suggestion.action}</p>
                            <p><strong>Motivo:</strong> ${suggestion.why}</p>
                            <p><strong>Prioridade:</strong> ${(suggestion.priority * 100).toFixed(0)}%</p>
                            <div style="margin-top: 15px; padding: 10px; background: rgba(255, 107, 107, 0.1); border-radius: 5px;">
                                <strong>Problemas:</strong> Muito vago, sem explica√ß√£o, sem contexto educativo
                            </div>
                        </div>
                    `).join('')}
                </div>

                <div id="new-system" class="tab-content" style="display: none;">
                    <div class="education-section">
                        <div class="section-title">‚úÖ Vantagens do Sistema Ultra-Avan√ßado</div>
                        <p><strong>Caracter√≠sticas revolucion√°rias:</strong></p>
                        <ul>
                            <li>üéì Base de conhecimento educativo completa</li>
                            <li>üéµ An√°lise contextual por g√™nero musical</li>
                            <li>üîß Solu√ß√µes passo-a-passo detalhadas</li>
                            <li>üéõÔ∏è Exemplos espec√≠ficos para cada DAW</li>
                            <li>üé® Analogias e exemplos do mundo real</li>
                            <li>üß† Prioriza√ß√£o inteligente por impacto</li>
                            <li>üìä Indicadores visuais de progresso</li>
                            <li>üõ†Ô∏è Troubleshooting e valida√ß√£o</li>
                        </ul>
                    </div>

                    ${newSuggestions && newSuggestions.length > 0 ? 
                        newSuggestions.slice(0, 2).map((suggestion, index) => criarCardSugestaoAvancada(suggestion, index)).join('') : 
                        '<p>Sistema novo geraria sugest√µes ultra-detalhadas aqui...</p>'
                    }
                </div>

                <div id="comparison" class="tab-content" style="display: none;">
                    <div class="summary-cards">
                        <div class="summary-card">
                            <div class="summary-number">3x</div>
                            <div class="summary-label">Mais Informa√ß√£o</div>
                        </div>
                        <div class="summary-card">
                            <div class="summary-number">10x</div>
                            <div class="summary-label">Mais Educativo</div>
                        </div>
                        <div class="summary-card">
                            <div class="summary-number">5x</div>
                            <div class="summary-label">Mais Pr√°tico</div>
                        </div>
                        <div class="summary-card">
                            <div class="summary-number">100%</div>
                            <div class="summary-label">Contextualizado</div>
                        </div>
                    </div>

                    <div class="education-section">
                        <div class="section-title">üèÜ Por que o Sistema Ultra-Avan√ßado √© Revolucion√°rio</div>
                        
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 20px 0;">
                            <div>
                                <h4 style="color: #FF6B6B; margin-bottom: 10px;">‚ùå Sistema Antigo</h4>
                                <ul style="color: rgba(255, 255, 255, 0.7);">
                                    <li>"Ajustar LUFS" (como?)</li>
                                    <li>"Usar limiter" (qual? como configurar?)</li>
                                    <li>"LUFS baixo" (por que √© ruim?)</li>
                                    <li>Sem contexto de g√™nero</li>
                                    <li>Sem exemplos pr√°ticos</li>
                                </ul>
                            </div>
                            <div>
                                <h4 style="color: #00D4AA; margin-bottom: 10px;">‚úÖ Sistema Ultra-Avan√ßado</h4>
                                <ul style="color: rgba(255, 255, 255, 0.9);">
                                    <li>Explica O QUE √© LUFS</li>
                                    <li>Explica POR QUE √© importante</li>
                                    <li>Mostra COMO corrigir (passo-a-passo)</li>
                                    <li>Exemplos para cada DAW</li>
                                    <li>Contexto por g√™nero musical</li>
                                    <li>Analogias educativas</li>
                                    <li>Troubleshooting completo</li>
                                </ul>
                            </div>
                        </div>

                        <div style="background: rgba(0, 212, 170, 0.1); padding: 20px; border-radius: 10px; margin: 20px 0;">
                            <h4 style="color: #00D4AA; margin-bottom: 15px;">üéØ Resultado Final</h4>
                            <p>O sistema ultra-avan√ßado n√£o apenas identifica problemas, mas <strong>educa</strong> o usu√°rio sobre √°udio, oferece <strong>solu√ß√µes espec√≠ficas</strong> para seu DAW, e <strong>contextualiza</strong> tudo para o g√™nero musical. √â como ter um <strong>professor de √°udio profissional</strong> ao seu lado!</p>
                        </div>
                    </div>
                </div>
            `;

            resultsDiv.innerHTML = html;
        }

        /**
         * Alternar abas
         */
        function switchTab(button, tabId) {
            // Remover classe active de todas as abas
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            button.classList.add('active');

            // Esconder todo conte√∫do
            document.querySelectorAll('.tab-content').forEach(content => content.style.display = 'none');
            
            // Mostrar conte√∫do da aba selecionada
            const targetContent = document.getElementById(tabId + '-system') || document.getElementById(tabId);
            if (targetContent) {
                targetContent.style.display = 'block';
            }
        }

        /**
         * Toggle de se√ß√µes colaps√°veis
         */
        function toggleCollapsible(element) {
            const content = element.querySelector('.collapsible-content');
            const title = element.querySelector('.section-title');
            
            if (content.classList.contains('expanded')) {
                content.classList.remove('expanded');
                title.innerHTML = title.innerHTML.replace('‚ñ≤', '‚ñº');
            } else {
                content.classList.add('expanded');
                title.innerHTML = title.innerHTML.replace('‚ñº', '‚ñ≤');
            }
        }

        /**
         * Mostrar erro
         */
        function mostrarErro(message) {
            const resultsDiv = document.getElementById('results');
            resultsDiv.style.display = 'block';
            resultsDiv.innerHTML = `
                <div class="error-message">
                    <h3>üö® Erro</h3>
                    <p>${message}</p>
                </div>
            `;
        }

        // Log inicial
        console.log('üéì [DEMO] Interface do Sistema Ultra-Avan√ßado carregada!');
        console.log('üöÄ Use os bot√µes para testar o sistema revolucion√°rio de sugest√µes');
    </script>
</body>
</html>